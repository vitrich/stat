#!/usr/bin/env python
"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –£—Ä–æ–∫–∞ 2: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥—Ä–æ–±–µ–π
–ó–∞–ø—É—Å–∫: python manage.py shell < create_lesson2.py
"""

from main.models import Lesson
from datetime import date

# –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è —É—Ä–æ–∫–∞ 2
theory_html = """
<div style="font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; line-height: 1.6;">
    <h2 style="color: #1976D2; border-bottom: 2px solid #1976D2; padding-bottom: 10px;">üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥—Ä–æ–±–µ–π</h2>
    
    <h3 style="color: #FF6B35; margin-top: 30px;">1Ô∏è‚É£ –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥—Ä–æ–±–µ–π</h3>
    <p><strong>–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥—Ä–æ–±–∏</strong> ‚Äî —ç—Ç–æ –¥–µ–ª–µ–Ω–∏–µ —á–∏—Å–ª–∏—Ç–µ–ª—è –∏ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—è –Ω–∞ –∏—Ö –æ–±—â–∏–π –¥–µ–ª–∏—Ç–µ–ª—å.</p>
    
    <div style="background: #E3F2FD; padding: 15px; border-left: 4px solid #1976D2; margin: 15px 0;">
        <p><strong>–ü—Ä–∞–≤–∏–ª–æ:</strong> –ß—Ç–æ–±—ã —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –¥—Ä–æ–±—å, –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω–∞–∏–±–æ–ª—å—à–∏–π –æ–±—â–∏–π –¥–µ–ª–∏—Ç–µ–ª—å (–ù–û–î) —á–∏—Å–ª–∏—Ç–µ–ª—è –∏ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—è, –∏ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –æ–±–∞ —á–∏—Å–ª–∞ –Ω–∞ –Ω–µ–≥–æ.</p>
    </div>
    
    <p><strong>–ü—Ä–∏–º–µ—Ä 1:</strong> –°–æ–∫—Ä–∞—Ç–∏–º –¥—Ä–æ–±—å <code>12/18</code></p>
    <ul>
        <li>–ù–û–î(12, 18) = 6</li>
        <li>12 √∑ 6 = 2</li>
        <li>18 √∑ 6 = 3</li>
        <li><strong>–û—Ç–≤–µ—Ç:</strong> 12/18 = 2/3</li>
    </ul>
    
    <p><strong>–ü—Ä–∏–º–µ—Ä 2:</strong> –°–æ–∫—Ä–∞—Ç–∏–º –¥—Ä–æ–±—å <code>24/36</code></p>
    <ul>
        <li>–ù–û–î(24, 36) = 12</li>
        <li>24 √∑ 12 = 2</li>
        <li>36 √∑ 12 = 3</li>
        <li><strong>–û—Ç–≤–µ—Ç:</strong> 24/36 = 2/3</li>
    </ul>
    
    <h3 style="color: #FF6B35; margin-top: 30px;">2Ô∏è‚É£ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥—Ä–æ–±–µ–π —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª–µ–º</h3>
    <p>–ï—Å–ª–∏ —É –¥—Ä–æ–±–µ–π <strong>–æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å</strong>, —Ç–æ –±–æ–ª—å—à–µ —Ç–∞ –¥—Ä–æ–±—å, —É –∫–æ—Ç–æ—Ä–æ–π <strong>–±–æ–ª—å—à–µ —á–∏—Å–ª–∏—Ç–µ–ª—å</strong>.</p>
    
    <div style="background: #E3F2FD; padding: 15px; border-left: 4px solid #1976D2; margin: 15px 0;">
        <p><strong>–ü—Ä–∞–≤–∏–ª–æ:</strong> –ò–∑ –¥–≤—É—Ö –¥—Ä–æ–±–µ–π —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª–µ–º –±–æ–ª—å—à–µ —Ç–∞, —É –∫–æ—Ç–æ—Ä–æ–π —á–∏—Å–ª–∏—Ç–µ–ª—å –±–æ–ª—å—à–µ.</p>
    </div>
    
    <p><strong>–ü—Ä–∏–º–µ—Ä:</strong> –°—Ä–∞–≤–Ω–∏–º 3/7 –∏ 5/7</p>
    <ul>
        <li>–ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ (7 = 7)</li>
        <li>–°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —á–∏—Å–ª–∏—Ç–µ–ª–∏: 3 < 5</li>
        <li><strong>–û—Ç–≤–µ—Ç:</strong> 3/7 < 5/7</li>
    </ul>
    
    <h3 style="color: #FF6B35; margin-top: 30px;">3Ô∏è‚É£ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥—Ä–æ–±–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—è–º–∏</h3>
    <p>–ï—Å–ª–∏ —É –¥—Ä–æ–±–µ–π <strong>—Ä–∞–∑–Ω—ã–µ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª–∏</strong>, –Ω—É–∂–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∏—Ö –∫ –æ–±—â–µ–º—É –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—é, –∞ –∑–∞—Ç–µ–º —Å—Ä–∞–≤–Ω–∏—Ç—å —á–∏—Å–ª–∏—Ç–µ–ª–∏.</p>
    
    <div style="background: #E3F2FD; padding: 15px; border-left: 4px solid #1976D2; margin: 15px 0;">
        <p><strong>–ü—Ä–∞–≤–∏–ª–æ:</strong></p>
        <ol>
            <li>–ù–∞–π—Ç–∏ –æ–±—â–∏–π –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å (–æ–±—ã—á–Ω–æ –ù–û–ö)</li>
            <li>–ü—Ä–∏–≤–µ—Å—Ç–∏ –¥—Ä–æ–±–∏ –∫ –æ–±—â–µ–º—É –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—é</li>
            <li>–°—Ä–∞–≤–Ω–∏—Ç—å —á–∏—Å–ª–∏—Ç–µ–ª–∏</li>
        </ol>
    </div>
    
    <p><strong>–ü—Ä–∏–º–µ—Ä:</strong> –°—Ä–∞–≤–Ω–∏–º 2/3 –∏ 3/4</p>
    <ul>
        <li>–û–±—â–∏–π –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å: –ù–û–ö(3, 4) = 12</li>
        <li>2/3 = (2√ó4)/(3√ó4) = 8/12</li>
        <li>3/4 = (3√ó3)/(4√ó3) = 9/12</li>
        <li>–°—Ä–∞–≤–Ω–∏–≤–∞–µ–º: 8 < 9</li>
        <li><strong>–û—Ç–≤–µ—Ç:</strong> 2/3 < 3/4</li>
    </ul>
    
    <h3 style="color: #FF6B35; margin-top: 30px;">üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã</h3>
    <ul>
        <li>–í—Å–µ–≥–¥–∞ —Å—Ç–∞—Ä–∞–π—Ç–µ—Å—å —Å–æ–∫—Ä–∞—â–∞—Ç—å –¥—Ä–æ–±–∏ –¥–æ –Ω–µ—Å–æ–∫—Ä–∞—Ç–∏–º–æ–≥–æ –≤–∏–¥–∞</li>
        <li>–ü—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ –¥—Ä–æ–±–µ–π —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª–µ–º —Å–º–æ—Ç—Ä–∏—Ç–µ —Ç–æ–ª—å–∫–æ –Ω–∞ —á–∏—Å–ª–∏—Ç–µ–ª–∏</li>
        <li>–î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥—Ä–æ–±–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—è–º–∏ —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "–∫—Ä–µ—Å—Ç-–Ω–∞–∫—Ä–µ—Å—Ç": —Å—Ä–∞–≤–Ω–∏—Ç–µ a√ód –∏ b√óc –¥–ª—è –¥—Ä–æ–±–µ–π a/b –∏ c/d</li>
        <li>–ú–µ—Ç–æ–¥ "–∫—Ä–µ—Å—Ç-–Ω–∞–∫—Ä–µ—Å—Ç": –µ—Å–ª–∏ a√ód > b√óc, —Ç–æ a/b > c/d</li>
    </ul>
    
    <div style="background: #FFF3E0; padding: 15px; border-left: 4px solid #FF6B35; margin: 20px 0;">
        <p><strong>‚ö†Ô∏è –í–∞–∂–Ω–æ!</strong> –í –ø–æ—Å–ª–µ–¥–Ω–µ–º –∑–∞–¥–∞–Ω–∏–∏ —Ç–µ—Å—Ç–∞ –±—É–¥–µ—Ç –ø–æ–≤—ã—à–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å. –û–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ü–µ–Ω–∫–∏ 7!</p>
    </div>
</div>
"""

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ —Å–æ–∑–¥–∞–Ω –ª–∏ —É–∂–µ —É—Ä–æ–∫
existing_lesson = Lesson.objects.filter(date=date(2026, 2, 3)).first()

if existing_lesson:
    print(f"‚ö†Ô∏è –£—Ä–æ–∫ –Ω–∞ 03.02.2026 —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {existing_lesson.title}")
    print(f"–•–æ—Ç–∏—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å –µ–≥–æ? (–£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π —É—Ä–æ–∫ –≤ –∞–¥–º–∏–Ω–∫–µ, –∑–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å–Ω–æ–≤–∞)")
else:
    # –°–æ–∑–¥–∞—ë–º —É—Ä–æ–∫
    lesson2 = Lesson.objects.create(
        title="–£—Ä–æ–∫ 2. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥—Ä–æ–±–µ–π",
        date=date(2026, 2, 3),
        subject="–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞",
        grade="5",
        theory_content=theory_html,
        duration_minutes=40,
        test_duration_minutes=10,
        is_active=True
    )
    
    print("‚úÖ –£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω —É—Ä–æ–∫:")
    print(f"   –ù–∞–∑–≤–∞–Ω–∏–µ: {lesson2.title}")
    print(f"   –î–∞—Ç–∞: {lesson2.date.strftime('%d.%m.%Y')}")
    print(f"   URL: /lessons/{lesson2.date}/")
    print(f"   –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: {lesson2.duration_minutes} –º–∏–Ω")
    print(f"   –í—Ä–µ–º—è –Ω–∞ —Ç–µ—Å—Ç: {lesson2.test_duration_minutes} –º–∏–Ω")
    print()
    print("üéØ –¢–∏–ø—ã –∑–∞–¥–∞–Ω–∏–π –≤ —Ç–µ—Å—Ç–µ:")
    print("   - 3 –∑–∞–¥–∞–Ω–∏—è –Ω–∞ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥—Ä–æ–±–µ–π")
    print("   - 3 –∑–∞–¥–∞–Ω–∏—è –Ω–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (–æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å)")
    print("   - 3 –∑–∞–¥–∞–Ω–∏—è –Ω–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (—Ä–∞–∑–Ω—ã–µ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª–∏)")
    print("   - 1 –∑–∞–¥–∞–Ω–∏–µ –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ 7)")
    print()
    print("üìä –ó–∞–¥–∞–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—á–µ–Ω–∏–∫–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ!")
