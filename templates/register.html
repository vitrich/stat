{% extends 'base.html' %}

{% block page_title %}–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è{% endblock %}
{% block page_description %}–°–æ–∑–¥–∞–π—Ç–µ —É—á—ë—Ç–Ω—É—é –∑–∞–ø–∏—Å—å{% endblock %}

{% block content %}
<div class="card" style="max-width: 600px; margin: 0 auto;">
    <h2 style="color: var(--color-accent-light); margin-bottom: 24px;">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–µ–Ω–∏–∫–∞</h2>

    {% if messages %}
        {% for message in messages %}
        <div style="background: rgba(16, 185, 129, 0.15); border: 1px solid rgba(16, 185, 129, 0.3); padding: 12px; border-radius: 8px; margin-bottom: 16px; color: var(--color-success);">
            {{ message }}
        </div>
        {% endfor %}
    {% endif %}

    <div style="background: rgba(189, 46, 141, 0.1); border: 1px solid var(--color-border); padding: 16px; border-radius: 8px; margin-bottom: 24px;">
        <h3 style="color: var(--color-gold); font-size: 16px; margin-bottom: 8px;">üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</h3>
        <ol style="color: var(--color-text-secondary); margin: 0; padding-left: 24px; line-height: 1.8;">
            <li>–ù–∞–π–¥–∏—Ç–µ —Å–µ–±—è –≤ —Å–ø–∏—Å–∫–µ</li>
            <li>–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å</li>
            <li>–ù–∞–∂–º–∏—Ç–µ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"</li>
        </ol>
    </div>

    <form method="post" style="display: flex; flex-direction: column; gap: 24px;">
        {% csrf_token %}

        {% if form.non_field_errors %}
        <div style="background: rgba(239, 68, 68, 0.15); border: 1px solid rgba(239, 68, 68, 0.3); padding: 12px; border-radius: 8px; color: var(--color-danger);">
            {{ form.non_field_errors }}
        </div>
        {% endif %}

        <!-- –í—ã–±–æ—Ä —É—á–µ–Ω–∏–∫–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ -->
        <div>
            <label for="{{ form.student.id_for_label }}" style="display: block; margin-bottom: 8px; color: var(--color-text-secondary); font-weight: 500;">
                {{ form.student.label }}
            </label>
            {{ form.student }}
            {% if form.student.errors %}
            <div style="color: var(--color-danger); font-size: 13px; margin-top: 6px;">
                {{ form.student.errors.0 }}
            </div>
            {% endif %}
            <div style="color: var(--color-text-muted); font-size: 13px; margin-top: 6px;">
                {{ form.student.help_text }}
            </div>
        </div>

        <!-- –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
        <div>
            <label for="{{ form.username.id_for_label }}" style="display: block; margin-bottom: 8px; color: var(--color-text-secondary); font-weight: 500;">
                {{ form.username.label }}
            </label>
            {{ form.username }}
            {% if form.username.errors %}
            <div style="color: var(--color-danger); font-size: 13px; margin-top: 6px;">
                {{ form.username.errors.0 }}
            </div>
            {% endif %}
            <div style="color: var(--color-text-muted); font-size: 13px; margin-top: 6px;">
                {{ form.username.help_text }}
            </div>
        </div>

        <!-- –ü–∞—Ä–æ–ª—å -->
        <div>
            <label for="{{ form.password1.id_for_label }}" style="display: block; margin-bottom: 8px; color: var(--color-text-secondary); font-weight: 500;">
                {{ form.password1.label }}
            </label>
            {{ form.password1 }}
            {% if form.password1.errors %}
            <div style="color: var(--color-danger); font-size: 13px; margin-top: 6px;">
                {{ form.password1.errors.0 }}
            </div>
            {% endif %}
            <div style="color: var(--color-text-muted); font-size: 13px; margin-top: 6px;">
                –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –ø–∞—Ä–æ–ª—å
            </div>
        </div>

        <!-- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è -->
        <div>
            <label for="{{ form.password2.id_for_label }}" style="display: block; margin-bottom: 8px; color: var(--color-text-secondary); font-weight: 500;">
                {{ form.password2.label }}
            </label>
            {{ form.password2 }}
            {% if form.password2.errors %}
            <div style="color: var(--color-danger); font-size: 13px; margin-top: 6px;">
                {{ form.password2.errors.0 }}
            </div>
            {% endif %}
            <div style="color: var(--color-text-muted); font-size: 13px; margin-top: 6px;">
                –í–≤–µ–¥–∏—Ç–µ —Ç–æ—Ç –∂–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
            </div>
        </div>

        <button
            type="submit"
            style="background: linear-gradient(135deg, var(--color-accent-primary) 0%, var(--color-burgundy) 100%); color: white; padding: 14px 24px; border: none; border-radius: 8px; cursor: pointer; width: 100%; font-size: 16px; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(189, 46, 141, 0.3);"
            onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(189, 46, 141, 0.5)'"
            onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(189, 46, 141, 0.3)'"
        >
            –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
        </button>
    </form>

    <div style="margin-top: 24px; padding-top: 24px; border-top: 1px solid var(--color-border); text-align: center;">
        <p style="color: var(--color-text-secondary); margin: 0;">
            –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç?
            <a href="{% url 'login' %}" style="color: var(--color-accent-light); text-decoration: none; font-weight: 500; transition: color 0.3s ease;">
                –í–æ–π–¥–∏—Ç–µ
            </a>
        </p>
    </div>
</div>

<style>
    select:focus, input:focus {
        outline: none;
        border-color: var(--color-accent-primary) !important;
        box-shadow: 0 0 0 3px rgba(189, 46, 141, 0.2);
    }

    select {
        cursor: pointer;
    }

    select option {
        background: var(--color-bg-secondary);
        color: var(--color-text-primary);
        padding: 10px;
    }
</style>
{% endblock %}
