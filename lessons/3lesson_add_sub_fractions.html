<div style="font-family: Arial, sans-serif; max-width: 900px; margin: 0 auto; padding: 20px; line-height: 1.6;">
    <h2 style="color: #1976D2; border-bottom: 2px solid #1976D2; padding-bottom: 10px;">‚ûï‚ûñ –°–ª–æ–∂–µ–Ω–∏–µ –∏ –≤—ã—á–∏—Ç–∞–Ω–∏–µ –¥—Ä–æ–±–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—è–º–∏</h2>

    <!-- ========== –ë–õ–û–ö EXETER: –ó–∞–¥–∞—á–∞-–æ—Ç–∫—Ä—ã—Ç–∏–µ ========== -->
    <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); color: #e0e0e0; padding: 25px; border-radius: 15px; margin: 25px 0; border: 2px solid #e94560;">
        <h4 style="color: #e94560; margin-top: 0; text-align: center; font-size: 20px;">üß© –ó–∞–¥–∞—á–∞ –¥–ª—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è</h4>
        <div style="background: rgba(255,255,255,0.08); padding: 20px; border-radius: 10px; font-size: 17px;">
            <p style="margin-top: 0;">–ú–∞—à–∞ —Å—ä–µ–ª–∞ <strong style="color: #FDD835;">$\frac{1}{3}$</strong> –ø–∏—Ü—Ü—ã, –∞ –ü–µ—Ç—è —Å—ä–µ–ª <strong style="color: #FDD835;">$\frac{1}{4}$</strong> –ø–∏—Ü—Ü—ã.</p>
            <p>–ö–∞–∫—É—é —á–∞—Å—Ç—å –ø–∏—Ü—Ü—ã –æ–Ω–∏ —Å—ä–µ–ª–∏ –≤–º–µ—Å—Ç–µ?</p>
            <p style="margin-bottom: 0; color: #aaa; font-style: italic;">üí≠ –ü–æ–¥—Å–∫–∞–∑–∫–∞: –ú–æ–∂–Ω–æ –ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–ª–æ–∂–∏—Ç—å —á–∏—Å–ª–∏—Ç–µ–ª–∏? –ü–æ—á–µ–º—É ¬´$\frac{1}{3} + \frac{1}{4}$¬ª ‚Äî —ç—Ç–æ <em>–Ω–µ</em> ¬´$\frac{2}{7}$¬ª?</p>
        </div>
    </div>

    <!-- ========== –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ ¬´–ø–æ—á–µ–º—É –Ω–µ 2/7¬ª –Ω–∞ –ø–∏—Ü—Ü–µ ========== -->
    <div style="background: #FFF3E0; padding: 25px; border-radius: 15px; margin: 25px 0; border: 2px solid #FF9800;">
        <h4 style="color: #E65100; margin-top: 0; text-align: center;">üçï –ü–æ—á–µ–º—É $\frac{1}{3} + \frac{1}{4} \neq \frac{2}{7}$?</h4>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 15px 0;">
            <div style="text-align: center; background: white; padding: 15px; border-radius: 10px;">
                <div style="font-size: 16px; color: #E65100; font-weight: 600; margin-bottom: 10px;">‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ</div>
                <canvas id="pizzaWrong" width="160" height="160"></canvas>
                <div style="margin-top: 8px; font-size: 15px;">$\frac{2}{7}$ ‚âà 28.6% –ø–∏—Ü—Ü—ã</div>
            </div>
            <div style="text-align: center; background: white; padding: 15px; border-radius: 10px;">
                <div style="font-size: 16px; color: #2E7D32; font-weight: 600; margin-bottom: 10px;">‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ</div>
                <canvas id="pizzaRight" width="160" height="160"></canvas>
                <div style="margin-top: 8px; font-size: 15px;">$\frac{7}{12}$ ‚âà 58.3% –ø–∏—Ü—Ü—ã</div>
            </div>
        </div>
        <p style="text-align: center; margin-bottom: 0; font-size: 15px;">–ö—É—Å–∫–∏ <strong>—Ä–∞–∑–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞</strong> ‚Äî –Ω–µ–ª—å–∑—è —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é!<br>–°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –Ω–∞—Ä–µ–∑–∞—Ç—å –ø–∏—Ü—Ü—É –Ω–∞ <strong>–æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∫—É—Å–æ—á–∫–∏</strong>.</p>
    </div>


    <!-- ========== 1. –°–õ–û–ñ–ï–ù–ò–ï ========== -->
    <h3 style="color: #FF6B35; margin-top: 40px;">1Ô∏è‚É£ –°–ª–æ–∂–µ–Ω–∏–µ –¥—Ä–æ–±–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—è–º–∏</h3>

    <div style="background: #E3F2FD; padding: 15px; border-left: 4px solid #1976D2; margin: 15px 0;">
        <p style="margin-top: 0;"><strong>–ê–ª–≥–æ—Ä–∏—Ç–º:</strong></p>
        <ol style="margin-bottom: 0;">
            <li>–ù–∞–π—Ç–∏ <strong>–ù–û–ö</strong> (–Ω–∞–∏–º–µ–Ω—å—à–µ–µ –æ–±—â–µ–µ –∫—Ä–∞—Ç–Ω–æ–µ) –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª–µ–π</li>
            <li>–ü—Ä–∏–≤–µ—Å—Ç–∏ –æ–±–µ –¥—Ä–æ–±–∏ –∫ <strong>–æ–±—â–µ–º—É –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—é</strong></li>
            <li>–°–ª–æ–∂–∏—Ç—å —á–∏—Å–ª–∏—Ç–µ–ª–∏, –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å –æ—Å—Ç–∞–≤–∏—Ç—å –æ–±—â–∏–º</li>
            <li>–°–æ–∫—Ä–∞—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ</li>
        </ol>
    </div>

    <!-- –ü–æ—à–∞–≥–æ–≤–∞—è –ø–∏—Ü—Ü–∞: 1/3 + 1/4 -->
    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px; border-radius: 15px; margin: 25px 0;">
        <h4 style="color: white; margin-top: 0; text-align: center;">üçï –†–µ—à–∞–µ–º –∑–∞–¥–∞—á—É –ú–∞—à–∏ –∏ –ü–µ—Ç–∏</h4>
        <div style="background: rgba(255,255,255,0.12); padding: 20px; border-radius: 10px;">

            <!-- –®–∞–≥ 1: –∏—Å—Ö–æ–¥–Ω—ã–µ –¥—Ä–æ–±–∏ -->
            <div style="text-align: center; margin-bottom: 15px; font-size: 16px; opacity: 0.9;">–®–∞–≥ 1: –†–∏—Å—É–µ–º, —á—Ç–æ —Å—ä–µ–ª –∫–∞–∂–¥—ã–π</div>
            <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 15px; align-items: center; margin-bottom: 20px;">
                <div style="text-align: center;">
                    <div style="font-size: 18px; margin-bottom: 5px;">–ú–∞—à–∞: $\frac{1}{3}$</div>
                    <canvas id="pizzaStep1a" width="140" height="140"></canvas>
                    <div style="font-size: 13px; opacity: 0.8; margin-top: 4px;">1 –∏–∑ 3 –∫—É—Å–∫–æ–≤</div>
                </div>
                <div style="font-size: 32px; font-weight: bold;">+</div>
                <div style="text-align: center;">
                    <div style="font-size: 18px; margin-bottom: 5px;">–ü–µ—Ç—è: $\frac{1}{4}$</div>
                    <canvas id="pizzaStep1b" width="140" height="140"></canvas>
                    <div style="font-size: 13px; opacity: 0.8; margin-top: 4px;">1 –∏–∑ 4 –∫—É—Å–∫–æ–≤</div>
                </div>
            </div>

            <!-- –®–∞–≥ 2: –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –æ–±—â–µ–º—É –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—é -->
            <div style="text-align: center; padding: 12px; background: rgba(255,255,255,0.15); border-radius: 8px; margin: 15px 0; font-size: 16px;">
                ‚¨áÔ∏è –®–∞–≥ 2: –†–µ–∂–µ–º –Ω–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∫—É—Å–æ—á–∫–∏ ‚Äî –ù–û–ö(3, 4) = <strong>12</strong>
            </div>
            <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 15px; align-items: center; margin: 20px 0;">
                <div style="text-align: center;">
                    <div style="font-size: 16px; margin-bottom: 5px;">$\frac{1}{3} = \frac{4}{12}$</div>
                    <canvas id="pizzaStep2a" width="140" height="140"></canvas>
                    <div style="font-size: 13px; opacity: 0.8; margin-top: 4px;">4 –∏–∑ 12 –∫—É—Å–æ—á–∫–æ–≤</div>
                </div>
                <div style="font-size: 32px; font-weight: bold;">+</div>
                <div style="text-align: center;">
                    <div style="font-size: 16px; margin-bottom: 5px;">$\frac{1}{4} = \frac{3}{12}$</div>
                    <canvas id="pizzaStep2b" width="140" height="140"></canvas>
                    <div style="font-size: 13px; opacity: 0.8; margin-top: 4px;">3 –∏–∑ 12 –∫—É—Å–æ—á–∫–æ–≤</div>
                </div>
            </div>

            <!-- –®–∞–≥ 3: —Ä–µ–∑—É–ª—å—Ç–∞—Ç -->
            <div style="text-align: center; padding: 12px; background: rgba(255,255,255,0.15); border-radius: 8px; margin: 15px 0; font-size: 16px;">
                ‚¨áÔ∏è –®–∞–≥ 3: –°–∫–ª–∞–¥—ã–≤–∞–µ–º –∫—É—Å–æ—á–∫–∏ ‚Äî 4 + 3 = <strong>7</strong>
            </div>
            <div style="text-align: center; margin-top: 15px;">
                <canvas id="pizzaStep3" width="160" height="160"></canvas>
                <div style="font-size: 13px; opacity: 0.8; margin-top: 4px;">7 –∏–∑ 12 –∫—É—Å–æ—á–∫–æ–≤</div>
            </div>

            <div style="text-align: center; margin-top: 15px; padding: 15px; background: #4CAF50; border-radius: 10px; font-size: 20px; font-weight: bold;">
                ‚úÖ $\frac{1}{3} + \frac{1}{4} = \frac{4}{12} + \frac{3}{12} = \frac{7}{12}$
            </div>
        </div>
    </div>

    <!-- –ï—â—ë –æ–¥–∏–Ω –ø—Ä–∏–º–µ—Ä: –ø–æ—à–∞–≥–æ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ -->
    <div style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: #333; padding: 25px; border-radius: 15px; margin: 25px 0;">
        <h4 style="margin-top: 0; text-align: center;">üîÑ –ü—Ä–∏–º–µ—Ä: $\frac{3}{8} + \frac{5}{6}$</h4>
        <div style="background: rgba(255,255,255,0.9); padding: 20px; border-radius: 10px;">
            <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 15px; margin-bottom: 20px;">
                <div style="text-align: center; padding: 15px; background: #E3F2FD; border-radius: 8px;">
                    <div style="font-size: 24px; font-weight: bold; color: #1976D2;">$\frac{3}{8}$</div>
                </div>
                <div style="align-self: center; font-size: 30px;">+</div>
                <div style="text-align: center; padding: 15px; background: #FFE0B2; border-radius: 8px;">
                    <div style="font-size: 24px; font-weight: bold; color: #FF6B35;">$\frac{5}{6}$</div>
                </div>
            </div>
            <div style="text-align: center; padding: 12px; background: #FFF3E0; border-radius: 8px; margin: 15px 0; font-weight: 600;">
                ‚¨áÔ∏è –ù–û–ö(8, 6) = 24
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 20px 0;">
                <div style="padding: 15px; background: #E3F2FD; border-radius: 8px; border: 2px solid #1976D2;">
                    <div style="text-align: center; margin-bottom: 10px;">$\frac{3}{8} = \frac{3 \times 3}{8 \times 3}$</div>
                    <div style="text-align: center; font-size: 22px; font-weight: bold; color: #1976D2;">$= \frac{9}{24}$</div>
                </div>
                <div style="padding: 15px; background: #FFE0B2; border-radius: 8px; border: 2px solid #FF6B35;">
                    <div style="text-align: center; margin-bottom: 10px;">$\frac{5}{6} = \frac{5 \times 4}{6 \times 4}$</div>
                    <div style="text-align: center; font-size: 22px; font-weight: bold; color: #FF6B35;">$= \frac{20}{24}$</div>
                </div>
            </div>
            <div style="text-align: center; padding: 15px; background: #C8E6C9; border-radius: 8px;">
                <div style="font-size: 18px; font-weight: 600;">9 + 20 = 29</div>
                <div style="font-size: 22px; font-weight: bold; color: #4CAF50; margin-top: 10px;">
                    ‚úÖ $\frac{3}{8} + \frac{5}{6} = \frac{9}{24} + \frac{20}{24} = \frac{29}{24} = 1\frac{5}{24}$
                </div>
            </div>
        </div>
    </div>


    <!-- ========== 2. –í–´–ß–ò–¢–ê–ù–ò–ï ========== -->
    <h3 style="color: #FF6B35; margin-top: 40px;">2Ô∏è‚É£ –í—ã—á–∏—Ç–∞–Ω–∏–µ –¥—Ä–æ–±–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—è–º–∏</h3>
    <p>–í—ã—á–∏—Ç–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç <strong>—Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ</strong>, —Ç–æ–ª—å–∫–æ –≤–º–µ—Å—Ç–æ —Å–ª–æ–∂–µ–Ω–∏—è —á–∏—Å–ª–∏—Ç–µ–ª–µ–π ‚Äî <strong>–≤—ã—á–∏—Ç–∞–µ–º</strong>.</p>

    <!-- –ü–∏—Ü—Ü–∞-–≤—ã—á–∏—Ç–∞–Ω–∏–µ -->
    <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 25px; border-radius: 15px; margin: 25px 0;">
        <h4 style="color: white; margin-top: 0; text-align: center;">üçï –í—ã—á–∏—Ç–∞–Ω–∏–µ –Ω–∞ –ø–∏—Ü—Ü–µ: $\frac{3}{4} - \frac{1}{3}$</h4>
        <div style="background: rgba(255,255,255,0.12); padding: 20px; border-radius: 10px;">
            <div style="display: grid; grid-template-columns: 1fr auto 1fr auto 1fr; gap: 10px; align-items: center;">
                <div style="text-align: center;">
                    <div style="font-size: 16px; margin-bottom: 5px;">–ë—ã–ª–æ: $\frac{3}{4} = \frac{9}{12}$</div>
                    <canvas id="pizzaSubA" width="140" height="140"></canvas>
                    <div style="font-size: 12px; opacity: 0.8; margin-top: 4px;">9 –∏–∑ 12</div>
                </div>
                <div style="font-size: 32px; font-weight: bold;">‚àí</div>
                <div style="text-align: center;">
                    <div style="font-size: 16px; margin-bottom: 5px;">–°—ä–µ–ª–∏: $\frac{1}{3} = \frac{4}{12}$</div>
                    <canvas id="pizzaSubB" width="140" height="140"></canvas>
                    <div style="font-size: 12px; opacity: 0.8; margin-top: 4px;">4 –∏–∑ 12</div>
                </div>
                <div style="font-size: 32px; font-weight: bold;">=</div>
                <div style="text-align: center;">
                    <div style="font-size: 16px; margin-bottom: 5px;">–û—Å—Ç–∞–ª–æ—Å—å: $\frac{5}{12}$</div>
                    <canvas id="pizzaSubC" width="140" height="140"></canvas>
                    <div style="font-size: 12px; opacity: 0.8; margin-top: 4px;">5 –∏–∑ 12</div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 15px; padding: 12px; background: rgba(255,255,255,0.2); border-radius: 8px; font-size: 16px;">
                –ù–û–ö(4, 3) = 12 ‚Üí $\frac{9}{12} - \frac{4}{12} = \frac{5}{12}$
            </div>
        </div>
    </div>

    <!-- –ü—Ä–∏–º–µ—Ä –≤—ã—á–∏—Ç–∞–Ω–∏—è: –∫–∞—Ä—Ç–æ—á–∫–∞ -->
    <div style="background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%); color: #333; padding: 25px; border-radius: 15px; margin: 25px 0;">
        <h4 style="margin-top: 0; text-align: center;">üîÑ –ü—Ä–∏–º–µ—Ä: $\frac{7}{10} - \frac{2}{15}$</h4>
        <div style="background: rgba(255,255,255,0.9); padding: 20px; border-radius: 10px;">
            <div style="text-align: center; padding: 12px; background: #FFF3E0; border-radius: 8px; margin-bottom: 15px; font-weight: 600;">
                –ù–û–ö(10, 15) = 30
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 15px 0;">
                <div style="padding: 15px; background: #E3F2FD; border-radius: 8px; border: 2px solid #1976D2; text-align: center;">
                    <div>$\frac{7}{10} = \frac{7 \times 3}{10 \times 3} = \frac{21}{30}$</div>
                </div>
                <div style="padding: 15px; background: #FFE0B2; border-radius: 8px; border: 2px solid #FF6B35; text-align: center;">
                    <div>$\frac{2}{15} = \frac{2 \times 2}{15 \times 2} = \frac{4}{30}$</div>
                </div>
            </div>
            <div style="text-align: center; padding: 15px; background: #C8E6C9; border-radius: 8px;">
                <div style="font-size: 22px; font-weight: bold; color: #4CAF50;">
                    ‚úÖ $\frac{21}{30} - \frac{4}{30} = \frac{17}{30}$
                </div>
            </div>
        </div>
    </div>


    <!-- ========== 3. –í–´–î–ï–õ–ï–ù–ò–ï –¶–ï–õ–û–ô –ß–ê–°–¢–ò ========== -->
    <h3 style="color: #FF6B35; margin-top: 40px;">3Ô∏è‚É£ –ï—Å–ª–∏ —á–∏—Å–ª–∏—Ç–µ–ª—å –±–æ–ª—å—à–µ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—è</h3>
    <div style="background: #E3F2FD; padding: 15px; border-left: 4px solid #1976D2; margin: 15px 0;">
        <p style="margin-top: 0;"><strong>–ü—Ä–∞–≤–∏–ª–æ:</strong> –†–∞–∑–¥–µ–ª–∏ —á–∏—Å–ª–∏—Ç–µ–ª—å –Ω–∞ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å. –ß–∞—Å—Ç–Ω–æ–µ ‚Äî —Ü–µ–ª–∞—è —á–∞—Å—Ç—å, –æ—Å—Ç–∞—Ç–æ–∫ ‚Äî –Ω–æ–≤—ã–π —á–∏—Å–ª–∏—Ç–µ–ª—å.</p>
        <p style="margin-bottom: 0;"><strong>–ü—Ä–∏–º–µ—Ä:</strong> $\frac{29}{24}$: $29 \div 24 = 1$ (–æ—Å—Ç–∞—Ç–æ–∫ 5) ‚Üí $1\frac{5}{24}$</p>
    </div>


    <!-- ========== –ò–ù–¢–ï–†–ê–ö–¢–ò–í–ù–´–ô –¢–†–ï–ù–ê–ñ–Å–† ========== -->
    <div style="background: #FFF; border: 3px solid #1976D2; border-radius: 15px; padding: 25px; margin: 30px 0; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
        <h4 style="color: #1976D2; margin-top: 0; text-align: center;">üçï –¢—Ä–µ–Ω–∞–∂—ë—Ä: —Å–∫–ª–∞–¥—ã–≤–∞–π –∏ –≤—ã—á–∏—Ç–∞–π —Å –ø–∏—Ü—Ü–µ–π!</h4>

        <div style="display: grid; grid-template-columns: 2fr auto 2fr; gap: 15px; align-items: end; margin: 20px 0;">
            <div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-size: 14px; color: #666;">–ß–∏—Å–ª–∏—Ç–µ–ª—å:</label>
                        <input type="number" id="f1n" style="width: 100%; padding: 10px; border: 2px solid #1976D2; border-radius: 8px; text-align: center; font-size: 16px;" value="1" min="1" max="50">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-size: 14px; color: #666;">–ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å:</label>
                        <input type="number" id="f1d" style="width: 100%; padding: 10px; border: 2px solid #1976D2; border-radius: 8px; text-align: center; font-size: 16px;" value="3" min="1" max="50">
                    </div>
                </div>
            </div>

            <div style="text-align: center; padding-bottom: 5px;">
                <select id="op" style="padding: 10px 15px; font-size: 22px; border: 2px solid #FF6B35; border-radius: 8px; font-weight: bold; cursor: pointer;">
                    <option value="+">+</option>
                    <option value="‚àí">‚àí</option>
                </select>
            </div>

            <div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-size: 14px; color: #666;">–ß–∏—Å–ª–∏—Ç–µ–ª—å:</label>
                        <input type="number" id="f2n" style="width: 100%; padding: 10px; border: 2px solid #FF6B35; border-radius: 8px; text-align: center; font-size: 16px;" value="1" min="1" max="50">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-size: 14px; color: #666;">–ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å:</label>
                        <input type="number" id="f2d" style="width: 100%; padding: 10px; border: 2px solid #FF6B35; border-radius: 8px; text-align: center; font-size: 16px;" value="4" min="1" max="50">
                    </div>
                </div>
            </div>
        </div>

        <button onclick="solve()" style="width: 100%; padding: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 10px; font-size: 18px; font-weight: 600; cursor: pointer; box-shadow: 0 4px 10px rgba(102,126,234,0.4);">
            üçï –ü–æ—Å—á–∏—Ç–∞—Ç—å –∏ –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞ –ø–∏—Ü—Ü–µ!
        </button>

        <div id="result" style="margin-top: 20px; display: none;">
            <div style="padding: 20px; background: #E3F2FD; border-radius: 10px;">
                <div id="steps" style="line-height: 2; font-size: 16px;"></div>
                <div style="display: flex; justify-content: center; gap: 15px; align-items: center; margin-top: 20px; flex-wrap: wrap;">
                    <div style="text-align: center;">
                        <div style="font-size: 13px; color: #1976D2; font-weight: 600;">–î—Ä–æ–±—å 1</div>
                        <canvas id="pc1" width="130" height="130"></canvas>
                    </div>
                    <div style="font-size: 28px; font-weight: bold; color: #FF6B35;" id="opSign">+</div>
                    <div style="text-align: center;">
                        <div style="font-size: 13px; color: #FF6B35; font-weight: 600;">–î—Ä–æ–±—å 2</div>
                        <canvas id="pc2" width="130" height="130"></canvas>
                    </div>
                    <div style="font-size: 28px; font-weight: bold; color: #4CAF50;">=</div>
                    <div style="text-align: center;">
                        <div style="font-size: 13px; color: #4CAF50; font-weight: 600;">–†–µ–∑—É–ª—å—Ç–∞—Ç</div>
                        <canvas id="pcr" width="130" height="130"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- ========== –ë–õ–û–ö EXETER: –∑–∞–¥–∞—á–∏ –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è ========== -->
    <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); color: #e0e0e0; padding: 25px; border-radius: 15px; margin: 30px 0; border: 2px solid #e94560;">
        <h4 style="color: #e94560; margin-top: 0; text-align: center; font-size: 20px;">üìù –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è <span style="font-size: 14px; opacity: 0.7;">(–≤ —Å—Ç–∏–ª–µ Phillips Exeter)</span></h4>
        <div style="background: rgba(255,255,255,0.08); padding: 20px; border-radius: 10px;">
            <ol style="font-size: 16px; line-height: 2.2;">
                <li>–î–≤–∞ –¥—Ä—É–≥–∞ –∫—Ä–∞—Å–∏–ª–∏ –∑–∞–±–æ—Ä. –û–¥–∏–Ω –ø–æ–∫—Ä–∞—Å–∏–ª $\frac{2}{5}$ –∑–∞–±–æ—Ä–∞, –¥—Ä—É–≥–æ–π ‚Äî $\frac{1}{3}$. –ö–∞–∫—É—é —á–∞—Å—Ç—å –∑–∞–±–æ—Ä–∞ –æ–Ω–∏ –ø–æ–∫—Ä–∞—Å–∏–ª–∏ –≤–º–µ—Å—Ç–µ? –û—Å—Ç–∞–ª—Å—è –ª–∏ –Ω–µ–ø–æ–∫—Ä–∞—à–µ–Ω–Ω—ã–π –∫—É—Å–æ–∫?</li>
                <li>–í –±—É—Ç—ã–ª–∫–µ –±—ã–ª–æ $\frac{7}{8}$ –ª–∏—Ç—Ä–∞ —Å–æ–∫–∞. –í—ã–ø–∏–ª–∏ $\frac{2}{5}$ –ª–∏—Ç—Ä–∞. –°–∫–æ–ª—å–∫–æ –æ—Å—Ç–∞–ª–æ—Å—å?</li>
                <li>–ú–∞—à–∞ –ø—Ä–æ—à–ª–∞ $\frac{1}{6}$ –ø—É—Ç–∏, –∞ –ø–æ—Ç–æ–º –µ—â—ë $\frac{3}{8}$ –ø—É—Ç–∏. –ö–∞–∫—É—é —á–∞—Å—Ç—å –ø—É—Ç–∏ –µ–π <em>–æ—Å—Ç–∞–ª–æ—Å—å</em> –ø—Ä–æ–π—Ç–∏?</li>
                <li style="color: #FDD835;">‚≠ê –û–±—ä—è—Å–Ω–∏, –ø–æ—á–µ–º—É $\frac{1}{2} + \frac{1}{3} + \frac{1}{6} = 1$. –ù–∞—Ä–∏—Å—É–π —ç—Ç–æ –Ω–∞ –ø–∏—Ü—Ü–µ.</li>
            </ol>
        </div>
    </div>


    <!-- ========== –°–û–í–ï–¢–´ ========== -->
    <h3 style="color: #FF6B35; margin-top: 40px;">üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã</h3>
    <ul>
        <li>–í—Å–µ–≥–¥–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç–µ –¥—Ä–æ–±–∏ –∫ <strong>–Ω–∞–∏–º–µ–Ω—å—à–µ–º—É</strong> –æ–±—â–µ–º—É –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—é ‚Äî —Ç–∞–∫ –ø—Ä–æ—â–µ —Å—á–∏—Ç–∞—Ç—å</li>
        <li>–ü–æ—Å–ª–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ: –º–æ–∂–Ω–æ –ª–∏ <strong>—Å–æ–∫—Ä–∞—Ç–∏—Ç—å</strong> —Ä–µ–∑—É–ª—å—Ç–∞—Ç?</li>
        <li>–ß–∏—Å–ª–∏—Ç–µ–ª—å –±–æ–ª—å—à–µ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—è ‚Üí –≤—ã–¥–µ–ª–∏ <strong>—Ü–µ–ª—É—é —á–∞—Å—Ç—å</strong></li>
        <li>–ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±: $\frac{a}{b} + \frac{c}{d} = \frac{a \cdot d + c \cdot b}{b \cdot d}$ (–Ω–æ –Ω–µ –∑–∞–±—É–¥—å —Å–æ–∫—Ä–∞—Ç–∏—Ç—å!)</li>
    </ul>


    <!-- ========== –ò–°–¢–û–†–ò–Ø ========== -->
    <h3 style="color: #1976D2; margin-top: 50px; border-top: 2px solid #E0E0E0; padding-top: 30px;">üìú –ù–µ–º–Ω–æ–≥–æ –∏—Å—Ç–æ—Ä–∏–∏</h3>
    <div style="background: linear-gradient(135deg, #FFF8E1 0%, #FFECB3 100%); padding: 25px; border-radius: 15px; margin: 25px 0;">
        <div style="background: white; padding: 20px; border-radius: 10px; margin: 15px 0;">
            <h4 style="color: #F57C00; margin-top: 0;">üè∫ –ü–∞–ø–∏—Ä—É—Å –ê—Ö–º–µ—Å–∞ (‚âà 1650 –≥. –¥–æ –Ω.—ç.)</h4>
            <p style="margin-bottom: 0;">–ï–≥–∏–ø–µ—Ç—Å–∫–∏–π –ø–∏—Å–µ—Ü –∑–∞–ø–∏—Å–∞–ª 84 –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –Ω–∞ –ø–∞–ø–∏—Ä—É—Å–µ –¥–ª–∏–Ω–æ–π 5 –º–µ—Ç—Ä–æ–≤. –ï–≥–∏–ø—Ç—è–Ω–µ —Å–∫–ª–∞–¥—ã–≤–∞–ª–∏ —Ç–æ–ª—å–∫–æ <strong>–µ–¥–∏–Ω–∏—á–Ω—ã–µ –¥—Ä–æ–±–∏</strong> (—Å —á–∏—Å–ª–∏—Ç–µ–ª–µ–º 1), –ø–æ—ç—Ç–æ–º—É –¥–∞–∂–µ –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏ —Ç—Ä–µ–±–æ–≤–∞–ª–∏ —Å–ª–æ–∂–Ω—ã—Ö —Ä–∞–∑–ª–æ–∂–µ–Ω–∏–π!</p>
        </div>
        <div style="background: white; padding: 20px; border-radius: 10px; margin: 15px 0;">
            <h4 style="color: #F57C00; margin-top: 0;">üïå –ê–ª—å-–•–æ—Ä–µ–∑–º–∏ (IX –≤–µ–∫)</h4>
            <p style="margin-bottom: 0;">–ü–µ—Ä—Å–∏–¥—Å–∫–∏–π —É—á—ë–Ω—ã–π –æ–ø–∏—Å–∞–ª –ø—Ä–∞–≤–∏–ª–∞ —Å–ª–æ–∂–µ–Ω–∏—è –∏ –≤—ã—á–∏—Ç–∞–Ω–∏—è –¥—Ä–æ–±–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—è–º–∏ –ø–æ—á—Ç–∏ –≤ —Ç–æ–º –≤–∏–¥–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –º—ã —É—á–∏–º –∏—Ö —Å–µ–≥–æ–¥–Ω—è. –°–ª–æ–≤–æ <strong>¬´–∞–ª–≥–æ—Ä–∏—Ç–º¬ª</strong> –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—Ç –µ–≥–æ –∏–º–µ–Ω–∏!</p>
        </div>
        <div style="background: #E8F5E9; padding: 20px; border-radius: 10px; margin: 15px 0; border: 2px solid #4CAF50;">
            <p style="margin: 0; font-style: italic;">üí° <strong>–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç:</strong> –í –î—Ä–µ–≤–Ω–µ–º –†–∏–º–µ –¥—Ä–æ–±–∏ –æ—Å–Ω–æ–≤—ã–≤–∞–ª–∏—Å—å –Ω–∞ –¥–µ–ª–µ–Ω–∏–∏ –Ω–∞ 12. –ü–æ—ç—Ç–æ–º—É —Ä–∏–º–ª—è–Ω–µ –ª–µ–≥–∫–æ —Å–∫–ª–∞–¥—ã–≤–∞–ª–∏ –¥—Ä–æ–±–∏ —Å–æ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—è–º–∏ 2, 3, 4, 6 –∏ 12, –Ω–æ –ø—É—Ç–∞–ª–∏—Å—å —Å $\frac{1}{7}$ –∏–ª–∏ $\frac{1}{11}$.</p>
        </div>
    </div>


    <!-- ==================== JAVASCRIPT ==================== -->
    <script>
    // ===== –£—Ç–∏–ª–∏—Ç—ã =====
    function gcd(a,b){a=Math.abs(a);b=Math.abs(b);while(b){var t=b;b=a%b;a=t;}return a;}
    function lcm(a,b){return Math.abs(a*b)/gcd(a,b);}

    // ===== –†–∏—Å–æ–≤–∞–Ω–∏–µ –ø–∏—Ü—Ü—ã =====
    function drawPizza(id, num, den, color, bg) {
        var c = document.getElementById(id);
        if(!c) return;
        var ctx = c.getContext('2d');
        var w=c.width, h=c.height, cx=w/2, cy=h/2, r=Math.min(w,h)/2-6;
        ctx.clearRect(0,0,w,h);

        // —Ç–µ—Å—Ç–æ
        ctx.beginPath(); ctx.arc(cx,cy,r,0,2*Math.PI);
        ctx.fillStyle = bg||'#FFECB3'; ctx.fill();
        ctx.strokeStyle='#D4A017'; ctx.lineWidth=2; ctx.stroke();

        // –Ω–∞—á–∏–Ω–∫–∞ (–∑–∞–∫—Ä–∞—à–µ–Ω–Ω—ã–µ –∫—É—Å–∫–∏)
        var sa = -Math.PI/2;
        var slice = 2*Math.PI/den;
        for(var i=0;i<num&&i<den;i++){
            ctx.beginPath(); ctx.moveTo(cx,cy);
            ctx.arc(cx,cy,r-1, sa+i*slice, sa+(i+1)*slice);
            ctx.closePath(); ctx.fillStyle=color||'#FF6B35'; ctx.fill();
        }

        // —Å—ã—Ä–Ω—ã–µ —Ç–æ—á–∫–∏
        ctx.fillStyle='#FFF9C4';
        for(var i=0;i<num&&i<den;i++){
            var ma=sa+(i+0.5)*slice, dr=r*0.5;
            ctx.beginPath(); ctx.arc(cx+dr*Math.cos(ma), cy+dr*Math.sin(ma), 2.5, 0, 2*Math.PI); ctx.fill();
        }

        // —Ä–∞–∑—Ä–µ–∑—ã
        ctx.strokeStyle='#8D6E63'; ctx.lineWidth=1.2;
        for(var i=0;i<den;i++){
            var a=sa+i*slice;
            ctx.beginPath(); ctx.moveTo(cx,cy);
            ctx.lineTo(cx+r*Math.cos(a), cy+r*Math.sin(a)); ctx.stroke();
        }

        // –æ–±–≤–æ–¥–∫–∞
        ctx.beginPath(); ctx.arc(cx,cy,r,0,2*Math.PI);
        ctx.strokeStyle='#8D6E63'; ctx.lineWidth=2.5; ctx.stroke();
    }

    // ===== –°—Ç–∞—Ç–∏—á–Ω—ã–µ –ø–∏—Ü—Ü—ã =====
    window.addEventListener('load', function(){
        // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç 2/7
        drawPizza('pizzaWrong', 2, 7, '#E53935', '#FFECB3');
        // –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç 7/12
        drawPizza('pizzaRight', 7, 12, '#4CAF50', '#FFECB3');

        // –®–∞–≥ 1: –∏—Å—Ö–æ–¥–Ω—ã–µ 1/3 –∏ 1/4
        drawPizza('pizzaStep1a', 1, 3, '#FF6B35', '#FFECB3');
        drawPizza('pizzaStep1b', 1, 4, '#1976D2', '#FFECB3');
        // –®–∞–≥ 2: –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω—ã–µ 4/12 –∏ 3/12
        drawPizza('pizzaStep2a', 4, 12, '#FF6B35', '#FFECB3');
        drawPizza('pizzaStep2b', 3, 12, '#1976D2', '#FFECB3');
        // –®–∞–≥ 3: —Ä–µ–∑—É–ª—å—Ç–∞—Ç 7/12
        drawPizza('pizzaStep3', 7, 12, '#4CAF50', '#FFECB3');

        // –í—ã—á–∏—Ç–∞–Ω–∏–µ
        drawPizza('pizzaSubA', 9, 12, '#FF6B35', '#FFECB3');
        drawPizza('pizzaSubB', 4, 12, '#E53935', '#FFECB3');
        drawPizza('pizzaSubC', 5, 12, '#4CAF50', '#FFECB3');
    });

    // ===== –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä =====
    function solve(){
        var n1=parseInt(document.getElementById('f1n').value);
        var d1=parseInt(document.getElementById('f1d').value);
        var n2=parseInt(document.getElementById('f2n').value);
        var d2=parseInt(document.getElementById('f2d').value);
        var op=document.getElementById('op').value;
        if(!n1||!d1||!n2||!d2||d1<1||d2<1){alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —á–∏—Å–ª–∞!');return;}

        var isAdd = (op==='+');
        var opWord = isAdd?'–°–∫–ª–∞–¥—ã–≤–∞–µ–º':'–í—ã—á–∏—Ç–∞–µ–º';
        var opSym = isAdd?'+':'‚àí';
        var s='';

        s+='<div style="padding:15px;background:white;border-radius:8px;margin-bottom:15px;">';
        s+='<div style="font-size:18px;">'+opWord+': <strong style="color:#1976D2;">\\(\\frac{'+n1+'}{'+d1+'}\\)</strong> '+opSym+' <strong style="color:#FF6B35;">\\(\\frac{'+n2+'}{'+d2+'}\\)</strong></div></div>';

        var cd, nn1, nn2, m1, m2;
        if(d1===d2){
            cd=d1; nn1=n1; nn2=n2;
            s+='<div style="padding:12px;background:#E8F5E9;border-radius:8px;margin-bottom:15px;">‚úÖ –ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ ‚Äî –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –Ω–µ –Ω—É–∂–Ω–æ!</div>';
        } else {
            cd=lcm(d1,d2); m1=cd/d1; m2=cd/d2; nn1=n1*m1; nn2=n2*m2;
            s+='<div style="padding:15px;background:#FFF3E0;border-radius:8px;margin-bottom:15px;">';
            s+='<div>‚ö†Ô∏è –ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª–∏ —Ä–∞–∑–Ω—ã–µ ‚Üí –ù–û–ö('+d1+', '+d2+') = <strong>'+cd+'</strong></div></div>';
            s+='<div style="padding:15px;background:white;border-radius:8px;margin-bottom:15px;">';
            s+='<div style="margin-bottom:8px;">\\(\\frac{'+n1+'}{'+d1+'} = \\frac{'+n1+'\\times'+m1+'}{'+d1+'\\times'+m1+'} = \\frac{'+nn1+'}{'+cd+'}\\)</div>';
            s+='<div>\\(\\frac{'+n2+'}{'+d2+'} = \\frac{'+n2+'\\times'+m2+'}{'+d2+'\\times'+m2+'} = \\frac{'+nn2+'}{'+cd+'}\\)</div></div>';
        }

        var rn = isAdd ? nn1+nn2 : nn1-nn2;
        s+='<div style="padding:12px;background:#E3F2FD;border-radius:8px;margin-bottom:15px;">'+opWord+' —á–∏—Å–ª–∏—Ç–µ–ª–∏: '+nn1+' '+opSym+' '+nn2+' = '+rn+'</div>';

        if(rn<0){
            s+='<div style="padding:12px;background:#FFCDD2;border-radius:8px;margin-bottom:15px;">‚ö†Ô∏è –†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π!</div>';
        }

        var g=gcd(Math.abs(rn),cd), fn=rn/g, fd=cd/g;
        s+='<div style="padding:20px;background:#C8E6C9;border-radius:8px;border:2px solid #4CAF50;">';
        s+='<div style="font-size:18px;font-weight:600;color:#4CAF50;margin-bottom:10px;">‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:</div>';
        var rs='\\(\\frac{'+rn+'}{'+cd+'}\\)';
        if(g>1) { rs+=' = \\(\\frac{'+fn+'}{'+fd+'}\\)'; s+='<div style="font-size:14px;color:#666;margin-bottom:8px;">–°–æ–∫—Ä–∞—â–∞–µ–º –Ω–∞ '+g+'</div>'; }
        if(Math.abs(fn)>fd && fd>0){
            var wh=Math.floor(Math.abs(fn)/fd), rm=Math.abs(fn)%fd, sg=fn<0?'‚àí':'';
            if(rm>0) rs+=' = \\('+sg+wh+'\\frac{'+rm+'}{'+fd+'}\\)'; else rs+=' = '+sg+wh;
        }
        s+='<div style="font-size:22px;text-align:center;font-weight:bold;color:#4CAF50;">\\(\\frac{'+n1+'}{'+d1+'}\\) '+opSym+' \\(\\frac{'+n2+'}{'+d2+'}\\) = '+rs+'</div></div>';

        document.getElementById('steps').innerHTML=s;
        document.getElementById('result').style.display='block';
        document.getElementById('opSign').textContent=opSym;

        drawPizza('pc1',Math.min(n1,d1),d1,'#1976D2','#FFECB3');
        drawPizza('pc2',Math.min(n2,d2),d2,'#FF6B35','#FFECB3');
        var aRn=Math.abs(fn);
        if(aRn<=fd) drawPizza('pcr',aRn,fd,'#4CAF50','#FFECB3');
        else drawPizza('pcr',fd,fd,'#4CAF50','#FFECB3');

        if(window.MathJax){MathJax.typesetPromise([document.getElementById('steps')]);}
    }
    </script>
</div>